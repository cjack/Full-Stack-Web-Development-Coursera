<!DOCTYPE html>

<html>
<head>
  <title> JavaScript Assignment</title>
  <script>

      var target;
      var guess_input;
      var finished = false;
      var guesses = 0;
      var colors = ["blue", "cyan", "gold", "green", "magenta",
      "orange", "red", "white", "yellow"]

      function do_game(){
        // randomly choose a number and index the color
        var target_index = Math.floor(Math.random() * (colors.length));
        target = colors[target_index];

        //only for debug
        alert("For debugging and marking purpose, the answer is:\n\n" + target)

        while(!finished){
          guess_input = prompt("I am thinking of one of these colors:\n\n"+
                                colors + "\n\nWhat color am I thinking of?");
          guesses += 1;
          finished = check_guess();
        }

      }
      function check_guess(){
        // check if not int the colors
        if(colors.indexOf(guess_input) == -1){
          alert("Sorry, I don't recognize your color.\n\nPlease try again.")
          return false;
        }
        // check if larger than the target
        if(guess_input > target){
          alert("Sorry, your guess is not correct!\n\n" +
          "Hint: your color is alphabetically higher than mine.\n\n" +
          "Please try again.")
          return false;
        }
        // check if lower than the target
        if(guess_input < target){
          alert("Sorry, your guess is not correct!\n\n" +
          "Hint: your color is alphabetically lower than mine.\n\n" +
          "Please try again.")
          return false;
        }
        // finally
        // check the background color first
        document.body.style.backgroundColor = target;
        alert("Congratulations! You have guessed the color!\n\n" +
        "It took you " + guesses + " guesses to finish the game!\n\n" +
        "You can see the colour in the background.")

        return true;
      }

  </script>
</head>

<body onload = "do_game()">

</body>

</html>
